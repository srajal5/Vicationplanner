{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Vicationplanner\\\\frontend\\\\src\\\\pages\\\\Booking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from '../ui/Button';\nimport Card from '../ui/Card';\nimport Input from '../ui/Input';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Booking = () => {\n  _s();\n  const {\n    tripId\n  } = useParams();\n  const navigate = useNavigate();\n  const [trip, setTrip] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [booking, setBooking] = useState(false);\n  const [error, setError] = useState('');\n  const [activeStep, setActiveStep] = useState(0);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    cardNumber: ''\n  });\n  const steps = ['Trip Summary', 'Traveler Details', 'Payment', 'Confirmation'];\n  useEffect(() => {\n    let mounted = true;\n    const fetchTrip = async () => {\n      try {\n        const response = await axios.get(`/api/trips/${tripId}`);\n        if (mounted) setTrip(response.data);\n      } catch (err) {\n        if (mounted) setError('Failed to load trip details');\n        console.error('Error fetching trip:', err);\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    if (tripId) fetchTrip();\n    return () => {\n      mounted = false;\n    };\n  }, [tripId]);\n  const handleInputChange = field => event => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: event.target.value\n    }));\n  };\n  const handleNext = () => setActiveStep(s => Math.min(s + 1, steps.length - 1));\n  const handleBack = () => setActiveStep(s => Math.max(s - 1, 0));\n  const handleConfirmBooking = async () => {\n    setBooking(true);\n    setError('');\n    try {\n      var _response$data;\n      const bookingData = {\n        tripId,\n        travelerName: formData.name,\n        travelerEmail: formData.email,\n        travelerPhone: formData.phone\n      };\n      const response = await axios.post('/api/booking/book', bookingData);\n      if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.success) {\n        setActiveStep(3);\n      } else {\n        var _response$data2;\n        setError((response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || 'Booking failed');\n      }\n    } catch (err) {\n      setError('Booking failed. Please try again.');\n      console.error('Error booking trip:', err);\n    } finally {\n      setBooking(false);\n    }\n  };\n  const renderStepContent = step => {\n    var _trip$transportation, _trip$transportation2, _trip$accommodation, _trip$accommodation2, _trip$budgetBreakdown;\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-3 text-lg font-semibold\",\n            children: \"Trip Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-medium\",\n                  children: trip === null || trip === void 0 ? void 0 : trip.destination\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Dates\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-medium\",\n                  children: [trip === null || trip === void 0 ? void 0 : trip.startDate, \" - \", trip === null || trip === void 0 ? void 0 : trip.endDate]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Transportation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [trip === null || trip === void 0 ? void 0 : (_trip$transportation = trip.transportation) === null || _trip$transportation === void 0 ? void 0 : _trip$transportation.type, \" via \", trip === null || trip === void 0 ? void 0 : (_trip$transportation2 = trip.transportation) === null || _trip$transportation2 === void 0 ? void 0 : _trip$transportation2.provider]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Accommodation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [trip === null || trip === void 0 ? void 0 : (_trip$accommodation = trip.accommodation) === null || _trip$accommodation === void 0 ? void 0 : _trip$accommodation.name, \" (\", trip === null || trip === void 0 ? void 0 : (_trip$accommodation2 = trip.accommodation) === null || _trip$accommodation2 === void 0 ? void 0 : _trip$accommodation2.type, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between pt-3 border-t md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-semibold\",\n                  children: \"Total Cost\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xl font-bold text-indigo-600\",\n                  children: [trip === null || trip === void 0 ? void 0 : (_trip$budgetBreakdown = trip.budgetBreakdown) === null || _trip$budgetBreakdown === void 0 ? void 0 : _trip$budgetBreakdown.totalCost, \" \", trip === null || trip === void 0 ? void 0 : trip.currency]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-3 text-lg font-semibold\",\n            children: \"Traveler Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: formData.name,\n                onChange: handleInputChange('name'),\n                placeholder: \"Your full name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: formData.email,\n                onChange: handleInputChange('email'),\n                type: \"email\",\n                placeholder: \"you@example.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium\",\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: formData.phone,\n                onChange: handleInputChange('phone'),\n                placeholder: \"+1 555 5555\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-3 text-lg font-semibold\",\n            children: \"Payment Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 alert-modern\",\n            children: \"This is a demo application. No real payment will be processed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium\",\n                children: \"Card Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                value: formData.cardNumber,\n                onChange: handleInputChange('cardNumber'),\n                placeholder: \"4111 1111 1111 1111\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"MM/YY\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium\",\n                  children: \"CVV\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"123\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 text-6xl text-green-500\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 text-2xl font-semibold\",\n            children: \"Booking Confirmed!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-4 text-gray-600\",\n            children: \"Your trip has been successfully booked. You will receive a confirmation email shortly.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => navigate('/saved'),\n              children: \"View Saved Trips\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container p-6 mx-auto text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-12 h-12 mx-auto mb-4 loading-modern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg font-medium\",\n        children: \"Loading trip details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && !trip) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container p-6 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-modern\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          intent: \"ghost\",\n          size: \"md\",\n          onClick: () => navigate(`/results/${tripId}`),\n          children: \"Back to Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container max-w-3xl p-6 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        intent: \"ghost\",\n        onClick: () => navigate(`/results/${tripId}`),\n        children: \"Back to Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 card-modern\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-4 text-2xl font-bold text-center\",\n        children: \"Complete Your Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center gap-2 mb-6\",\n        children: steps.map((label, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-3 py-1 rounded-full text-sm ${idx === activeStep ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-700'}`,\n          children: label\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 alert-modern\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[320px]\",\n        children: renderStepContent(activeStep)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), activeStep < 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          intent: \"ghost\",\n          onClick: handleBack,\n          disabled: activeStep === 0,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: activeStep === 2 ? handleConfirmBooking : handleNext,\n          disabled: booking,\n          children: booking ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block w-4 h-4 mr-2 align-middle loading-modern\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), \"Processing...\"]\n          }, void 0, true) : activeStep === 2 ? 'Confirm Booking' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s(Booking, \"bTQkpAWylnIWMSB002gICyIBBOo=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Booking;\nvar _c;\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Button","Card","Input","jsxDEV","_jsxDEV","Fragment","_Fragment","Booking","_s","tripId","navigate","trip","setTrip","loading","setLoading","booking","setBooking","error","setError","activeStep","setActiveStep","formData","setFormData","name","email","phone","cardNumber","steps","mounted","fetchTrip","response","get","data","err","console","handleInputChange","field","event","prev","target","value","handleNext","s","Math","min","length","handleBack","max","handleConfirmBooking","_response$data","bookingData","travelerName","travelerEmail","travelerPhone","post","success","_response$data2","message","renderStepContent","step","_trip$transportation","_trip$transportation2","_trip$accommodation","_trip$accommodation2","_trip$budgetBreakdown","children","className","fileName","_jsxFileName","lineNumber","columnNumber","destination","startDate","endDate","transportation","type","provider","accommodation","budgetBreakdown","totalCost","currency","onChange","placeholder","onClick","intent","size","map","label","idx","disabled","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Vicationplanner/frontend/src/pages/Booking.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Button from '../ui/Button';\r\nimport Card from '../ui/Card';\r\nimport Input from '../ui/Input';\r\n\r\nconst Booking = () => {\r\n  const { tripId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [trip, setTrip] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [booking, setBooking] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [formData, setFormData] = useState({ name: '', email: '', phone: '', cardNumber: '' });\r\n\r\n  const steps = ['Trip Summary', 'Traveler Details', 'Payment', 'Confirmation'];\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const fetchTrip = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/trips/${tripId}`);\r\n        if (mounted) setTrip(response.data);\r\n      } catch (err) {\r\n        if (mounted) setError('Failed to load trip details');\r\n        console.error('Error fetching trip:', err);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (tripId) fetchTrip();\r\n    return () => { mounted = false; };\r\n  }, [tripId]);\r\n\r\n  const handleInputChange = (field) => (event) => {\r\n    setFormData((prev) => ({ ...prev, [field]: event.target.value }));\r\n  };\r\n\r\n  const handleNext = () => setActiveStep((s) => Math.min(s + 1, steps.length - 1));\r\n  const handleBack = () => setActiveStep((s) => Math.max(s - 1, 0));\r\n\r\n  const handleConfirmBooking = async () => {\r\n    setBooking(true);\r\n    setError('');\r\n    try {\r\n      const bookingData = {\r\n        tripId,\r\n        travelerName: formData.name,\r\n        travelerEmail: formData.email,\r\n        travelerPhone: formData.phone,\r\n      };\r\n\r\n      const response = await axios.post('/api/booking/book', bookingData);\r\n      if (response?.data?.success) {\r\n        setActiveStep(3);\r\n      } else {\r\n        setError(response?.data?.message || 'Booking failed');\r\n      }\r\n    } catch (err) {\r\n      setError('Booking failed. Please try again.');\r\n      console.error('Error booking trip:', err);\r\n    } finally {\r\n      setBooking(false);\r\n    }\r\n  };\r\n\r\n  const renderStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <div>\r\n            <h3 className=\"mb-3 text-lg font-semibold\">Trip Summary</h3>\r\n            <Card className=\"p-4\">\r\n              <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n                <div>\r\n                  <div className=\"text-xs text-gray-500\">Destination</div>\r\n                  <div className=\"text-lg font-medium\">{trip?.destination}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-500\">Dates</div>\r\n                  <div className=\"text-lg font-medium\">{trip?.startDate} - {trip?.endDate}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-500\">Transportation</div>\r\n                  <div>{trip?.transportation?.type} via {trip?.transportation?.provider}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs text-gray-500\">Accommodation</div>\r\n                  <div>{trip?.accommodation?.name} ({trip?.accommodation?.type})</div>\r\n                </div>\r\n                <div className=\"flex items-center justify-between pt-3 border-t md:col-span-2\">\r\n                  <div className=\"text-lg font-semibold\">Total Cost</div>\r\n                  <div className=\"text-xl font-bold text-indigo-600\">{trip?.budgetBreakdown?.totalCost} {trip?.currency}</div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <div>\r\n            <h3 className=\"mb-3 text-lg font-semibold\">Traveler Details</h3>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Full Name</label>\r\n                <Input value={formData.name} onChange={handleInputChange('name')} placeholder=\"Your full name\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Email</label>\r\n                <Input value={formData.email} onChange={handleInputChange('email')} type=\"email\" placeholder=\"you@example.com\" />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"text-sm font-medium\">Phone Number</label>\r\n                <Input value={formData.phone} onChange={handleInputChange('phone')} placeholder=\"+1 555 5555\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div>\r\n            <h3 className=\"mb-3 text-lg font-semibold\">Payment Information</h3>\r\n            <div className=\"mb-3 alert-modern\">This is a demo application. No real payment will be processed.</div>\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Card Number</label>\r\n                <Input value={formData.cardNumber} onChange={handleInputChange('cardNumber')} placeholder=\"4111 1111 1111 1111\" />\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium\">Expiry Date</label>\r\n                  <Input placeholder=\"MM/YY\" />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium\">CVV</label>\r\n                  <Input placeholder=\"123\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <div className=\"text-center\">\r\n            <div className=\"mb-4 text-6xl text-green-500\">âœ“</div>\r\n            <h3 className=\"mb-2 text-2xl font-semibold\">Booking Confirmed!</h3>\r\n            <p className=\"mb-4 text-gray-600\">Your trip has been successfully booked. You will receive a confirmation email shortly.</p>\r\n            <div className=\"flex justify-center\">\r\n              <Button onClick={() => navigate('/saved')}>View Saved Trips</Button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container p-6 mx-auto text-center\">\r\n        <div className=\"w-12 h-12 mx-auto mb-4 loading-modern\" />\r\n        <div className=\"text-lg font-medium\">Loading trip details...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !trip) {\r\n    return (\r\n      <div className=\"container p-6 mx-auto\">\r\n        <div className=\"alert-modern\">{error}</div>\r\n        <div className=\"mt-4\">\r\n          <Button intent=\"ghost\" size=\"md\" onClick={() => navigate(`/results/${tripId}`)}>Back to Results</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container max-w-3xl p-6 mx-auto\">\r\n      <div className=\"mb-4\">\r\n        <Button intent=\"ghost\" onClick={() => navigate(`/results/${tripId}`)}>Back to Results</Button>\r\n      </div>\r\n\r\n      <div className=\"p-6 card-modern\">\r\n        <h1 className=\"mb-4 text-2xl font-bold text-center\">Complete Your Booking</h1>\r\n\r\n        <div className=\"flex justify-center gap-2 mb-6\">\r\n          {steps.map((label, idx) => (\r\n            <div key={label} className={`px-3 py-1 rounded-full text-sm ${idx === activeStep ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-700'}`}>\r\n              {label}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mb-4 alert-modern\">{error}</div>\r\n        )}\r\n\r\n        <div className=\"min-h-[320px]\">\r\n          {renderStepContent(activeStep)}\r\n        </div>\r\n\r\n        {activeStep < 3 && (\r\n          <div className=\"flex justify-between mt-6\">\r\n            <Button intent=\"ghost\" onClick={handleBack} disabled={activeStep === 0}>Back</Button>\r\n            <Button onClick={activeStep === 2 ? handleConfirmBooking : handleNext} disabled={booking}>\r\n              {booking ? (\r\n                <>\r\n                  <span className=\"inline-block w-4 h-4 mr-2 align-middle loading-modern\" />Processing...\r\n                </>\r\n              ) : activeStep === 2 ? (\r\n                'Confirm Booking'\r\n              ) : (\r\n                'Next'\r\n              )}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}