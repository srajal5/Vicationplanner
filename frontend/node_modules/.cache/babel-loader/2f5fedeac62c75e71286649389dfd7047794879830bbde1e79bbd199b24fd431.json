{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/Vicationplanner/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import Button from'../ui/Button';import Card from'../ui/Card';import Input from'../ui/Input';import{useNavigate}from'react-router-dom';import HeroImages from'../components/HeroImages';import CurrencySelector from'../components/CurrencySelector';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TripPlanner=()=>{const navigate=useNavigate();const[form,setForm]=useState({destination:'',duration:'',budget:'',travelers:'',theme:'',startDate:'',endDate:'',currency:'USD',startingPoint:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleChange=field=>e=>setForm(_objectSpread(_objectSpread({},form),{},{[field]:e.target.value}));const handleSelectDestination=landmark=>{setForm(_objectSpread(_objectSpread({},form),{},{destination:landmark}));};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const prefs={budget:Number(form.budget)||0,currency:form.currency||'USD',startDate:form.startDate||null,endDate:form.endDate||null,theme:form.theme||'',groupSize:Number(form.travelers)||1,startingPoint:form.startingPoint||''};const response=await axios.post('/api/trips/plan',prefs);const trip=response.data;if(trip&&trip.id){navigate(\"/results/\".concat(trip.id));}else{setError('Failed to receive trip from backend');}}catch(err){console.error('Error planning trip:',err);setError('Server error while planning trip');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(HeroImages,{onSelectDestination:handleSelectDestination}),/*#__PURE__*/_jsxs(Card,{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-2\",children:\"Plan Your Trip\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Fill in the details below to get a personalized trip plan.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Destination (optional)\"}),/*#__PURE__*/_jsx(Input,{value:form.destination,onChange:handleChange('destination'),placeholder:\"e.g., Paris, France\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Start Date\"}),/*#__PURE__*/_jsx(Input,{value:form.startDate,onChange:handleChange('startDate'),type:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"End Date\"}),/*#__PURE__*/_jsx(Input,{value:form.endDate,onChange:handleChange('endDate'),type:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Budget ($)\"}),/*#__PURE__*/_jsx(Input,{value:form.budget,onChange:handleChange('budget'),type:\"number\",placeholder:\"e.g., 2000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Number of Travelers\"}),/*#__PURE__*/_jsx(Input,{value:form.travelers,onChange:handleChange('travelers'),type:\"number\",placeholder:\"e.g., 2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Starting Point\"}),/*#__PURE__*/_jsx(Input,{value:form.startingPoint,onChange:handleChange('startingPoint'),placeholder:\"e.g., New York, USA\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Theme\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.theme,onChange:handleChange('theme'),className:\"w-full rounded-2xl border-2 px-4 py-3 bg-white/50\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a theme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"beach\",children:\"Beach\"}),/*#__PURE__*/_jsx(\"option\",{value:\"adventure\",children:\"Adventure\"}),/*#__PURE__*/_jsx(\"option\",{value:\"culture\",children:\"Culture\"}),/*#__PURE__*/_jsx(\"option\",{value:\"food\",children:\"Food\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Currency\"}),/*#__PURE__*/_jsx(CurrencySelector,{value:form.currency,onChange:handleChange('currency')})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 text-red-600\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 flex justify-end mt-4\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:loading,children:loading?'Planning...':'Generate Trip Plan'})})]})]})]});};export default TripPlanner;","map":{"version":3,"names":["React","useState","axios","Button","Card","Input","useNavigate","HeroImages","CurrencySelector","jsx","_jsx","jsxs","_jsxs","TripPlanner","navigate","form","setForm","destination","duration","budget","travelers","theme","startDate","endDate","currency","startingPoint","loading","setLoading","error","setError","handleChange","field","e","_objectSpread","target","value","handleSelectDestination","landmark","handleSubmit","preventDefault","prefs","Number","groupSize","response","post","trip","data","id","concat","err","console","className","children","onSelectDestination","onSubmit","onChange","placeholder","type","disabled"],"sources":["C:/Users/ASUS/Vicationplanner/frontend/src/pages/TripPlanner.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Button from '../ui/Button';\nimport Card from '../ui/Card';\nimport Input from '../ui/Input';\nimport { useNavigate } from 'react-router-dom';\nimport HeroImages from '../components/HeroImages';\nimport CurrencySelector from '../components/CurrencySelector';\n\nconst TripPlanner = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState({ destination: '', duration: '', budget: '', travelers: '', theme: '', startDate: '', endDate: '', currency: 'USD', startingPoint: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleChange = (field) => (e) => setForm({ ...form, [field]: e.target.value });\n\n  const handleSelectDestination = (landmark) => {\n    setForm({ ...form, destination: landmark });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const prefs = {\n        budget: Number(form.budget) || 0,\n        currency: form.currency || 'USD',\n        startDate: form.startDate || null,\n        endDate: form.endDate || null,\n        theme: form.theme || '',\n        groupSize: Number(form.travelers) || 1,\n        startingPoint: form.startingPoint || '',\n      };\n\n      const response = await axios.post('/api/trips/plan', prefs);\n      const trip = response.data;\n      if (trip && trip.id) {\n        navigate(`/results/${trip.id}`);\n      } else {\n        setError('Failed to receive trip from backend');\n      }\n    } catch (err) {\n      console.error('Error planning trip:', err);\n      setError('Server error while planning trip');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <HeroImages onSelectDestination={handleSelectDestination} />\n\n      <Card className=\"max-w-4xl mx-auto\">\n        <h2 className=\"text-2xl font-semibold mb-2\">Plan Your Trip</h2>\n        <p className=\"text-sm text-gray-600 mb-6\">Fill in the details below to get a personalized trip plan.</p>\n\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">Destination (optional)</label>\n            <Input value={form.destination} onChange={handleChange('destination')} placeholder=\"e.g., Paris, France\" />\n          </div>\n\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">Start Date</label>\n            <Input value={form.startDate} onChange={handleChange('startDate')} type=\"date\" />\n          </div>\n\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">End Date</label>\n            <Input value={form.endDate} onChange={handleChange('endDate')} type=\"date\" />\n          </div>\n\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">Budget ($)</label>\n            <Input value={form.budget} onChange={handleChange('budget')} type=\"number\" placeholder=\"e.g., 2000\" />\n          </div>\n\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">Number of Travelers</label>\n            <Input value={form.travelers} onChange={handleChange('travelers')} type=\"number\" placeholder=\"e.g., 2\" />\n          </div>\n\n          <div className=\"space-y-1\">\n            <label className=\"text-sm font-medium\">Starting Point</label>\n            <Input value={form.startingPoint} onChange={handleChange('startingPoint')} placeholder=\"e.g., New York, USA\" />\n          </div>\n\n          <div className=\"md:col-span-2 space-y-1\">\n            <label className=\"text-sm font-medium\">Theme</label>\n            <select\n              value={form.theme}\n              onChange={handleChange('theme')}\n              className=\"w-full rounded-2xl border-2 px-4 py-3 bg-white/50\"\n            >\n              <option value=\"\">Select a theme</option>\n              <option value=\"beach\">Beach</option>\n              <option value=\"adventure\">Adventure</option>\n              <option value=\"culture\">Culture</option>\n              <option value=\"food\">Food</option>\n            </select>\n          </div>\n\n          <div className=\"md:col-span-2 space-y-1\">\n            <label className=\"text-sm font-medium\">Currency</label>\n            <CurrencySelector value={form.currency} onChange={handleChange('currency')} />\n          </div>\n\n          {error && <div className=\"md:col-span-2 text-red-600\">{error}</div>}\n\n          <div className=\"md:col-span-2 flex justify-end mt-4\">\n            <Button type=\"submit\" disabled={loading}>{loading ? 'Planning...' : 'Generate Trip Plan'}</Button>\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n};\n\nexport default TripPlanner;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}